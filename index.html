<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Australia Questionnaire</title>
    <style>
        /* Basic Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        /* Header Styling */
        header {
            background-color: #005DAA;
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        header h1 {
            font-size: 24px;
            margin-bottom: 8px;
        }
        
        header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        /* Main Container */
        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
        }
        
        /* Progress Bar */
        .progress-bar {
            background-color: #e0e0e0;
            border-radius: 10px;
            height: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            background-color: #005DAA;
            height: 100%;
            width: 0;
            transition: width 0.5s ease;
        }
        
        /* Question Card */
        .question-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 30px;
            margin: 30px auto;
            max-width: 600px;
            display: none;
        }
        
        .question-text {
            font-size: 18px;
            margin-bottom: 25px;
            font-weight: 500;
        }
        
        /* Button Styling */
        .btn-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 30px;
        }
        
        .btn {
            padding: 12px 30px;
            border-radius: 8px;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }
        
        .btn-yes {
            background-color: #4CAF50;
            color: white;
        }
        
        .btn-no {
            background-color: #f44336;
            color: white;
        }
        
        .btn-skip {
            background-color: #9e9e9e;
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        /* Results Grid */
        .results-section {
            display: none;
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .results-header h2 {
            color: #005DAA;
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .results-header p {
            font-size: 16px;
            color: #666;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
        
        /* Action Card */
        .action-card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            padding: 20px;
            transition: transform 0.3s ease;
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
        }
        
        .card-subtitle {
            color: #005DAA;
            font-size: 14px;
            text-transform: uppercase;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .card-title {
            font-size: 18px;
            margin-bottom: 12px;
            color: #333;
        }
        
        .card-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
        }
        
        .card-meta {
            display: flex;
            justify-content: space-between;
            border-top: 1px solid #eee;
            padding-top: 15px;
            font-size: 13px;
            color: #777;
        }
        
        .card-meta div {
            display: flex;
            flex-direction: column;
        }
        
        .meta-label {
            font-weight: bold;
            margin-bottom: 3px;
        }
        
        /* Restart Button */
        .restart-btn {
            display: block;
            margin: 30px auto;
            padding: 12px 30px;
            background-color: #005DAA;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .restart-btn:hover {
            background-color: #00488a;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        /* Responsive Design */
        @media (max-width: 900px) {
            .results-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            
            .question-card {
                padding: 20px;
            }
            
            .btn-container {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                margin-bottom: 10px;
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>IP Australia Questionnaire</h1>
        <p>Discover potential intellectual property actions for your situation</p>
    </header>
    
    <div class="container">
        <div class="progress-bar">
            <div class="progress" id="progress-bar"></div>
        </div>
        
        <div id="question-container"></div>
        
        <div class="results-section" id="results-section">
            <div class="results-header">
                <h2>Actions For Consideration</h2>
                <p>Based on your responses, here are some potential actions you may wish to consider.</p>
            </div>
            <div class="results-grid" id="results-grid"></div>
            <button class="restart-btn" id="restart-btn">Start Again</button>
        </div>
    </div>
    
    <script>
        // Debug Mode
        const DEBUG = true;
        
        function debugLog(message) {
            if (DEBUG) {
                console.log(`DEBUG: ${message}`);
            }
        }
        
        // Question Data Structure with Branching Logic
        const questions = [
            {
                id: 1,
                text: "Do you have a new invention or technological solution?",
                nextIfYes: 2,
                nextIfNo: 3,
                nextIfSkip: 2
            },
            {
                id: 2,
                text: "Is your invention related to a physical product?",
                nextIfYes: 4,
                nextIfNo: 5,
                nextIfSkip: 4
            },
            {
                id: 3,
                text: "Do you have a new brand name, logo, or business identity?",
                nextIfYes: 6,
                nextIfNo: 7,
                nextIfSkip: 6
            },
            {
                id: 4,
                text: "Have you disclosed your invention to others outside your organization?",
                nextIfYes: 8,
                nextIfNo: 9,
                nextIfSkip: 8
            },
            {
                id: 5,
                text: "Is your technological solution software-based?",
                nextIfYes: 10,
                nextIfNo: 11,
                nextIfSkip: 10
            },
            {
                id: 6,
                text: "Are you currently using this brand in the marketplace?",
                nextIfYes: 12,
                nextIfNo: 13,
                nextIfSkip: 12
            },
            {
                id: 7,
                text: "Have you created original creative content (writing, art, music, etc.)?",
                nextIfYes: 14,
                nextIfNo: 15,
                nextIfSkip: 14
            },
            {
                id: 8,
                text: "Was the disclosure made under a confidentiality agreement?",
                nextIfYes: 16,
                nextIfNo: 17,
                nextIfSkip: 16
            },
            {
                id: 9,
                text: "Are you planning to commercialize your invention in the next 12 months?",
                nextIfYes: 18,
                nextIfNo: 19,
                nextIfSkip: 18
            },
            {
                id: 10,
                text: "Does your software solve a technical problem in a unique way?",
                nextIfYes: 20,
                nextIfNo: 21,
                nextIfSkip: 20
            },
            {
                id: 11,
                text: "Is your invention in a competitive market with many similar products?",
                nextIfYes: 22,
                nextIfNo: 23,
                nextIfSkip: 22
            },
            {
                id: 12,
                text: "Have you checked if similar trademarks already exist?",
                nextIfYes: 24,
                nextIfNo: 25,
                nextIfSkip: 24
            },
            {
                id: 13,
                text: "Do you plan to expand your business internationally in the future?",
                nextIfYes: 26,
                nextIfNo: 27,
                nextIfSkip: 26
            },
            {
                id: 14,
                text: "Is your creative content intended for commercial use?",
                nextIfYes: 28,
                nextIfNo: 29,
                nextIfSkip: 28
            },
            {
                id: 15,
                text: "Do you have confidential business information that gives you a competitive advantage?",
                nextIfYes: 30,
                nextIfNo: null,
                nextIfSkip: 30
            }
        ];
        
        // Possible Actions for Consideration
        const actions = [
            {
                id: 1,
                subtitle: "Patent Protection",
                title: "File a Provisional Patent Application",
                description: "Secure a priority date for your invention while giving yourself 12 months to decide on proceeding with a standard patent application.",
                cost: "$2,000 - $5,000",
                time: "1-2 months",
                resolutionRate: "High for securing a priority date",
                triggers: [2, 4, 9, 11]
            },
            {
                id: 2,
                subtitle: "Patent Protection",
                title: "File a Standard Patent Application",
                description: "Obtain comprehensive protection for your invention for up to 20 years in Australia.",
                cost: "$8,000 - $15,000",
                time: "3-5 years",
                resolutionRate: "Moderate (50-60%)",
                triggers: [2, 4, 9, 18]
            },
            {
                id: 3,
                subtitle: "Patent Protection",
                title: "File an Innovation Patent Application",
                description: "Secure a faster, less expensive patent with an 8-year term for incremental innovations.",
                cost: "$4,000 - $8,000",
                time: "6-12 months",
                resolutionRate: "Higher than standard patents (70-80%)",
                triggers: [5, 10, 22]
            },
            {
                id: 4,
                subtitle: "Trademark Protection",
                title: "File a Trademark Application",
                description: "Protect your brand identity including name, logo, slogan, or other distinctive elements in Australia.",
                cost: "$1,500 - $3,000",
                time: "7-9 months",
                resolutionRate: "High (75-85% if distinctive)",
                triggers: [3, 6, 12]
            },
            {
                id: 5,
                subtitle: "International Protection",
                title: "File an International Patent Application (PCT)",
                description: "Secure the option to file patents in multiple countries within 30 months of your first filing.",
                cost: "$10,000 - $20,000",
                time: "30-31 months before national phase",
                resolutionRate: "Varies by country",
                triggers: [9, 13, 26]
            },
            {
                id: 6,
                subtitle: "Trademark Strategy",
                title: "Conduct a Comprehensive Trademark Search",
                description: "Identify potential conflicts before filing your trademark application to avoid rejection or legal issues.",
                cost: "$800 - $2,000",
                time: "1-2 weeks",
                resolutionRate: "N/A (search service)",
                triggers: [3, 13, 25]
            },
            {
                id: 7,
                subtitle: "IP Strategy",
                title: "Develop a Trade Secret Protection Plan",
                description: "Implement protocols and agreements to protect valuable confidential business information.",
                cost: "$2,000 - $5,000",
                time: "1-2 months",
                resolutionRate: "High if properly implemented",
                triggers: [15, 30]
            },
            {
                id: 8,
                subtitle: "Software Protection",
                title: "Register Copyright for Software Code",
                description: "Establish evidence of ownership for your software's code and prevent direct copying.",
                cost: "$500 - $1,500",
                time: "2-4 months",
                resolutionRate: "Very high for registration",
                triggers: [5, 10, 14]
            },
            {
                id: 9,
                subtitle: "Creative Protection",
                title: "Register Copyright for Creative Works",
                description: "Document your ownership of creative works like writing, art, or music.",
                cost: "$500 - $1,000",
                time: "2-3 months",
                resolutionRate: "Very high for registration",
                triggers: [7, 14, 28]
            },
            {
                id: 10,
                subtitle: "IP Strategy",
                title: "Consult with an IP Professional",
                description: "Get personalized advice from a patent attorney or IP specialist on your specific situation.",
                cost: "$500 - $1,000",
                time: "1-2 weeks",
                resolutionRate: "N/A (advisory service)",
                triggers: [8, 17, 19, 21, 23, 27, 29]
            }
        ];
        
        // Application State
        let currentQuestionIndex = 0;
        let questionHistory = [];
        let userResponses = {};
        let totalQuestions = questions.length;
        
        // DOM Elements
        const questionContainer = document.getElementById('question-container');
        const progressBar = document.getElementById('progress-bar');
        const resultsSection = document.getElementById('results-section');
        const resultsGrid = document.getElementById('results-grid');
        const restartBtn = document.getElementById('restart-btn');
        
        // Initialize the application
        function initApp() {
            debugLog('Initializing application');
            currentQuestionIndex = 0;
            questionHistory = [];
            userResponses = {};
            
            // Hide results
            resultsSection.style.display = 'none';
            
            // Show first question
            displayQuestion(questions[0]);
            
            // Reset progress bar
            updateProgressBar(0);
        }
        
        // Display a question
        function displayQuestion(question) {
            debugLog(`Displaying question ${question.id}: "${question.text}"`);
            
            // Clear the question container
            questionContainer.innerHTML = '';
            
            // Create question card
            const questionCard = document.createElement('div');
            questionCard.className = 'question-card';
            questionCard.style.display = 'block';
            
            // Add question text
            const questionText = document.createElement('div');
            questionText.className = 'question-text';
            questionText.textContent = question.text;
            questionCard.appendChild(questionText);
            
            // Add button container
            const btnContainer = document.createElement('div');
            btnContainer.className = 'btn-container';
            
            // Create Yes button
            const yesBtn = document.createElement('button');
            yesBtn.className = 'btn btn-yes';
            yesBtn.textContent = 'Yes';
            yesBtn.addEventListener('click', () => handleResponse(question, 'yes'));
            btnContainer.appendChild(yesBtn);
            
            // Create No button
            const noBtn = document.createElement('button');
            noBtn.className = 'btn btn-no';
            noBtn.textContent = 'No';
            noBtn.addEventListener('click', () => handleResponse(question, 'no'));
            btnContainer.appendChild(noBtn);
            
            // Create Skip button
            const skipBtn = document.createElement('button');
            skipBtn.className = 'btn btn-skip';
            skipBtn.textContent = 'Skip';
            skipBtn.addEventListener('click', () => handleResponse(question, 'skip'));
            btnContainer.appendChild(skipBtn);
            
            questionCard.appendChild(btnContainer);
            questionContainer.appendChild(questionCard);
            
            // Animate the appearance
            setTimeout(() => {
                questionCard.style.opacity = '1';
                questionCard.style.transform = 'translateY(0)';
            }, 10);
        }
        
        // Handle user response
        function handleResponse(question, response) {
            debugLog(`User responded "${response}" to question ${question.id}`);
            
            // Store response
            userResponses[question.id] = response;
            
            // Add to question history
            questionHistory.push(question.id);
            
            // Determine next question
            let nextQuestionId;
            if (response === 'yes') {
                nextQuestionId = question.nextIfYes;
            } else if (response === 'no') {
                nextQuestionId = question.nextIfNo;
            } else { // skip
                nextQuestionId = question.nextIfSkip;
            }
            
            // Update progress
            updateProgressBar((questionHistory.length / totalQuestions) * 100);
            
            // Check if we have a next question
            if (nextQuestionId) {
                const nextQuestion = questions.find(q => q.id === nextQuestionId);
                if (nextQuestion) {
                    displayQuestion(nextQuestion);
                } else {
                    showResults();
                }
            } else {
                showResults();
            }
        }
        
        // Update progress bar
        function updateProgressBar(percentage) {
            debugLog(`Updating progress bar to ${percentage}%`);
            progressBar.style.width = `${percentage}%`;
        }
        
        // Show results based on responses
        function showResults() {
            debugLog('Showing results');
            
            // Hide questions
            questionContainer.innerHTML = '';
            
            // Show results section
            resultsSection.style.display = 'block';
            
            // Clear previous results
            resultsGrid.innerHTML = '';
            
            // Determine applicable actions based on trigger questions
            const applicableActions = actions.filter(action => {
                return action.triggers.some(triggerId => {
                    // Check if user answered "yes" to any trigger question
                    return userResponses[triggerId] === 'yes';
                });
            });
            
            // If no applicable actions, add a default action
            if (applicableActions.length === 0) {
                debugLog('No applicable actions found, adding default consultation action');
                applicableActions.push(actions.find(action => action.id === 10)); // Consultation action
            }
            
            // Render action cards
            applicableActions.forEach(action => {
                renderActionCard(action);
            });
        }
        
        // Render an action card
        function renderActionCard(action) {
            debugLog(`Rendering action card for "${action.title}"`);
            
            const card = document.createElement('div');
            card.className = 'action-card';
            
            const subtitle = document.createElement('div');
            subtitle.className = 'card-subtitle';
            subtitle.textContent = action.subtitle;
            card.appendChild(subtitle);
            
            const title = document.createElement('div');
            title.className = 'card-title';
            title.textContent = action.title;
            card.appendChild(title);
            
            const description = document.createElement('div');
            description.className = 'card-description';
            description.textContent = action.description;
            card.appendChild(description);
            
            const meta = document.createElement('div');
            meta.className = 'card-meta';
            
            const costDiv = document.createElement('div');
            const costLabel = document.createElement('span');
            costLabel.className = 'meta-label';
            costLabel.textContent = 'Est. Cost';
            const costValue = document.createElement('span');
            costValue.textContent = action.cost;
            costDiv.appendChild(costLabel);
            costDiv.appendChild(costValue);
            
            const timeDiv = document.createElement('div');
            const timeLabel = document.createElement('span');
            timeLabel.className = 'meta-label';
            timeLabel.textContent = 'Est. Time';
            const timeValue = document.createElement('span');
            timeValue.textContent = action.time;
            timeDiv.appendChild(timeLabel);
            timeDiv.appendChild(timeValue);
            
            const successDiv = document.createElement('div');
            const successLabel = document.createElement('span');
            successLabel.className = 'meta-label';
            successLabel.textContent = 'Resolution Rate';
            const successValue = document.createElement('span');
            successValue.textContent = action.resolutionRate;
            successDiv.appendChild(successLabel);
            successDiv.appendChild(successValue);
            
            meta.appendChild(costDiv);
            meta.appendChild(timeDiv);
            meta.appendChild(successDiv);
            
            card.appendChild(meta);
            
            resultsGrid.appendChild(card);
        }
        
        // Event Listeners
        restartBtn.addEventListener('click', () => {
            debugLog('Restarting application');
            initApp();
        });
        
        // Initialize the app on load
        window.addEventListener('load', initApp);
    </script>
</body>
</html>
